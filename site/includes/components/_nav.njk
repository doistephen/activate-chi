 {% import "components/_button.njk" as button %}
  {% import "components/_get-involved-link.njk" as volunteer with context %}

 <nav class="sticky top-0 z-20 -mx-4">
 <div class="container flex items-center justify-between px-4 py-4"
    x-cloak
	x-data="{ atTop: true }"
	@scroll.window="atTop = (window.pageYOffset > 16) ? false : true">
        <a href="/" class="z-50 flex-shrink-0 w-20 transition transform text-hue hover:scale-103">
            {% include "img/logo.svg" %}
        </a>
        <div class="sm:flex hidden items-center -mr-2.5 space-x-5 divide-x divide-white divide-opacity-25">
            <ul class="flex items-center space-x-3">
                {{ button.button("Blog", "/blog", size="large") }}
                {% include "components/_donate-link.njk" %}
                {{volunteer.getInvolvedButton("Get involved", color=true, size="large")}}
            </ul>
            <ul class="flex pl-2.5">
                <li><a target="_blank" href="{{site.twitterLink}}" class="block p-2.5 text-white text-opacity-90 transition transform hover:scale-105 hover:text-opacity-100 focus:outline-none focus:ring-2 rounded-full"><span class="block w-5 h-5">{% include "img/twitter.svg" %}</span></a></li>
                <li><a target="_blank" href="{{site.instagramLink}}" class="block p-2.5 text-white text-opacity-90 transition transform hover:scale-105 hover:text-opacity-100 focus:outline-none focus:ring-2 rounded-full"><span class="block w-5 h-5">{% include "img/instagram.svg" %}</span></a></li>
                <li><a target="_blank" href="{{site.facebookLink}}" class="block p-2.5 text-white text-opacity-90 transition transform hover:scale-105 hover:text-opacity-100 focus:outline-none focus:ring-2 rounded-full"><span class="block w-5 h-5">{% include "img/facebook.svg" %}</span></a></li>
            </ul>
        </div>
        {# mobile navigation #}
        <div class="sm:hidden has-modal" x-data="{isOpen: false}" :class="{'modal-open' : isOpen === true}">
            <div class="flex space-x-2">
                {{volunteer.getInvolvedButton("Get involved", color=true, size="large" )}}
                <button @click="isOpen = !isOpen" class="z-50 inline-grid p-4 border-white border-opacity-75 grid-absolute btn-outline">
                    <span x-show="!isOpen"
                        x-transition:enter-start="-rotate-45 opacity-0"
                        x-transition:leave-end="rotate-45 opacity-0"
                        class=" w-3.5 h-3.5 text-current grid-inset-0 transform transition">{% include "img/menu.svg" %}</span>
                    <span x-show="isOpen"
                        x-transition:enter-start="-rotate-45 opacity-0"
                        x-transition:leave-end="rotate-45 opacity-0"
                        class=" w-3.5 h-3.5 text-current grid-inset-0 transform transition">{% include "img/close.svg" %}</span>
                </button>
            </div>
            <div x-cloak x-show="isOpen" class="fixed inset-0 z-40 flex flex-col w-screen h-screen px-4 pt-8 pb-5 transition transform bg-gray noise-bg"
                x-transition:enter-start="opacity-0 translate-y-4"
                x-transition:leave-end="opacity-0 translate-y-4">
                <div class="flex flex-col items-center justify-center flex-1 space-y-8 divide-y divide-white divide-opacity-25">
                    <ul class="flex flex-col space-y-6" @click="isOpen = false">
                    <a class="block text-sm tracking-wide text-center font-display" href="/">Home</a>
                    <a class="block text-sm tracking-wide text-center font-display" href="/#initiatives">Our initiatives</a>
                    <a class="block text-sm tracking-wide text-center font-display" href="/#about">About us</a>
                    <a class="block text-sm tracking-wide text-center font-display" href="/#organizers">Our organizers</a>
                        {% include "components/_donate-link.njk" %}
                        {{ button.button("Blog", "/blog") }}
                    </ul>
                    <ul class="flex justify-around pt-5">
                        <li><a target="_blank" href="{{site.twitterLink}}" class="block p-4 text-white text-opacity-100 transition transform rounded-full hover:scale-105 hover:text-opacity-100 focus:outline-none focus:ring-2"><span class="block w-5 h-5">{% include "img/twitter.svg" %}</span></a></li>
                        <li><a target="_blank" href="{{site.instagramLink}}" class="block p-4 text-white text-opacity-100 transition transform rounded-full hover:scale-105 hover:text-opacity-100 focus:outline-none focus:ring-2"><span class="block w-5 h-5">{% include "img/instagram.svg" %}</span></a></li>
                        <li><a target="_blank" href="{{site.facebookLink}}" class="block p-4 text-white text-opacity-100 transition transform rounded-full hover:scale-105 hover:text-opacity-100 focus:outline-none focus:ring-2"><span class="block w-5 h-5">{% include "img/facebook.svg" %}</span></a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div :class="{'border-b' : !atTop}"class="absolute top-0 bottom-0 w-screen transform -translate-x-1/2 bg-repeat border-white border-opacity-25 bg-gray noise-bg left-1/2 -z-1"></div>
    </div>
    </nav>
