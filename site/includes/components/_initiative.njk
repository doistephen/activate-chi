{% macro initiative(title, type, date, summary, image, links) %}
{% import "components/_button.njk" as button %}
<div class="flex flex-col items-stretch border-b border-white border-opacity-25"data-organizer="wrapper">
    <button class="flex flex-col items-center justify-between flex-1 w-full pb-4 transition-opacity sm:text-left sm:pb-0 sm:flex-row group"
     @click="selected === '{{title}}' ? selected = 'none' : selected = '{{title}}'" >
        <div class="flex flex-col items-center flex-1 py-4 space-y-4 sm:space-y-0 sm:pr-5 sm:space-x-6 sm:flex-row">
            <div class="flex-shrink-0 h-20 overflow-hidden transition duration-100 transform border border-white border-opacity-50 rounded-full w-36 sm:w-32"
                :class="{'md:opacity-0' : selected === '{{title}}'}"
                :class="{'md:opacity-90' : selected !== '{{title}}'}">
        	    <img class="object-cover w-full h-full" src="{{image}}" alt="">
        	</div>
        	<div class="flex flex-col justify-end pl-2 space-y-2 text-center transition transform sm:text-left sm:pl-0"
                :class="{'md:-translate-x-38' : selected === '{{title}}'}">
        	        <span class="text-sm tracking-wider text-hue text-opacity-90">{{type}}</span>
        	        <h3 class="flex-grow text-lg text-white font-display">
                        {{title}}
                    </h3>
        	</div>

        </div>
        <div class="pl-1 sm:pl-0">
            <div class="grid px-5 pt-3 pb-2 text-xs tracking-wide text-center grid-absolute btn-outline font-display group-focus:ring">
                <span :class="{'opacity-0' : selected !== '{{title}}'}" class="grid-inset-0">Read less</span>
                <span :class="{'opacity-0' : selected === '{{title}}'}" class="grid-inset-0">Read more</span>
            </div>
        </div>
    </button>
    <div
        x-bind:style="selected === '{{title}}' ? 'max-height: var(--summary-height)' : 'max-height: 0'"
        class="flex flex-col overflow-hidden transition-all transform" data-organizer="summary">
        <div class="grid flex-1 h-full grid-cols-12 gap-6 pb-8 transition-opacity duration-500"
            :class="{'opacity-0' : selected !=='{{title}}'}">
            <div class="flex flex-col justify-between flex-1 flex-shrink-0 space-y-8 md:col-span-7 col-span-full">
                <p class="text-lg leading-relaxed text-white text-opacity-75">
                    {{summary}}
                </p>
                <div class="flex-shrink-0 block text-sm text-white text-opacity-50 min-w-max">
                    <date>{{date}}</date>
                </div>
                {% if links.length > 0 %}
                <div class="self-stretch space-y-1">
                    <h4 class="pt-4 text-sm text-white text-opacity-75 border-t border-white border-opacity-25">See more:</h4>
                    <ul class="space-y-1">
                        {% for link in links %}
                            <li class="text-sm">
                                <a class="flex items-center space-x-1 text-link hover:underline" target="_blank" href="{{ link.url }}">
                                    <span>{{ link.label }}</span>
                                    <span class="block w-4 h-4 opacity-75">{% include "img/external-link.svg" %}</span>
                                </a>
                            </li>
                        {% endfor %}
                    </ul>
                </div>
                {% endif %}
            </div>
            <div class="flex-shrink hidden col-span-4 mb-px overflow-hidden md:col-start-9 md:block"
                :class="{'opacity-0' : selected !== '{{title}}'}">
                <img class="block object-cover w-full h-56 border border-white border-opacity-50" src="{{image}}" alt="">
            </div>
        </div>
    </div>
</div>
{% endmacro %}
